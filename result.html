<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞—Å—á–µ—Ç–∞ - –°–Ω–µ–≥–æ–≤–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞—Å—á–µ—Ç–∞ —Å–Ω–µ–≥–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏</h1>
            <p class="subtitle">–°–ü 20.13330.2016 —Å –ò–∑–º–µ–Ω–µ–Ω–∏–µ–º ‚Ññ5</p>
        </div>

        <div id="calculation-content">
            <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –±—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
        </div>
    </div>

    <script src="common.js"></script>
    <script src="data.js"></script>
    <script src="calculations.js"></script>
    <script>
        function initPage() {
            console.log('Initializing result page...');
            
            // –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ–º, —á—Ç–æ –≤—Å–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
            initializeResultData();
            
            const data = getCalculationData();
            console.log('Current data in storage:', data);
            
            // –í—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–∞—Å—á–µ—Ç, —Ç–∞–∫ –∫–∞–∫ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã
            console.log('Showing calculation with guaranteed coefficients...');
            loadCalculationData();
            setupEventListeners();
            calculateFinalResults();
        }

        function initializeResultData() {
            const data = getCalculationData();
            const defaultValues = {
                sg: 1.5,
                ce: 1.0,
                ct: 1.0,
                mu: 1.0
            };
            
            let needsUpdate = false;
            const updates = {};
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã
            ['sg', 'ce', 'ct', 'mu'].forEach(coeff => {
                if (!data[coeff] && data[coeff] !== 0) {
                    updates[coeff] = defaultValues[coeff];
                    needsUpdate = true;
                    console.log(`Setting default value for ${coeff}: ${defaultValues[coeff]}`);
                }
            });
            
            if (needsUpdate) {
                updateCalculationData(updates);
                console.log('Updated data with defaults:', updates);
            }
        }

        function setupEventListeners() {
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
            const reducedLoad = document.getElementById('reducedLoad');
            const forPurlins = document.getElementById('forPurlins');
            
            if (reducedLoad) reducedLoad.addEventListener('change', calculateFinalResults);
            if (forPurlins) forPurlins.addEventListener('change', calculateFinalResults);
        }

        function loadCalculationData() {
            const content = document.getElementById('calculation-content');
            const savedData = getCalculationData();
            
            console.log('Loading calculation with data:', savedData);
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç —Ä–∞—Å—á–µ—Ç–∞
            content.innerHTML = `
                <div class="content-card">
                    <!-- –ë–ª–æ–∫ —Å –∏—Ç–æ–≥–æ–≤—ã–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ -->
                    <div class="final-results-section">
                        <div class="final-result-card">
                            <div class="result-icon">üèîÔ∏è</div>
                            <div class="result-content">
                                <h3>–†–∞—Å—á–µ—Ç–Ω–∞—è —Å–Ω–µ–≥–æ–≤–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –ø–æ –ø—Ä–æ—á–Ω–æ—Å—Ç–∏</h3>
                                <div class="result-value" id="final-s-result">0.00 –∫–ü–∞</div>
                                <div class="result-conversion" id="final-s-kgs">0 –∫–≥—Å/–º¬≤</div>
                            </div>
                        </div>

                        <div class="result-details-grid">
                            <div class="result-detail">
                                <span>–ù–æ—Ä–º–∞—Ç–∏–≤–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ S‚ÇÄ:</span>
                                <strong id="s0-result">0.00 –∫–ü–∞</strong>
                            </div>
                            <div class="result-detail">
                                <span>–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ Œ≥f:</span>
                                <strong>1.4</strong>
                            </div>
                        </div>
                    </div>

                    <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã -->
                    <div class="additional-parameters-section">
                        <h3>üìè –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</h3>
                        
                        <div class="parameter-options">
                            <label class="checkbox-label">
                                <input type="checkbox" id="reducedLoad">
                                üì• –†–∞—Å—Å—á–∏—Ç–∞—Ç—å –ø–æ–Ω–∏–∂–µ–Ω–Ω—É—é –Ω–∞–≥—Ä—É–∑–∫—É –¥–ª—è –¥–µ—Ñ–æ—Ä–º–∞—Ü–∏–π
                            </label>
                            <p class="note">–ø.10.11: —Ç–æ–ª—å–∫–æ –¥–ª—è —Ö–æ–ª–æ–¥–Ω—ã—Ö —Ä–µ–≥–∏–æ–Ω–æ–≤ (t_—è–Ω–≤ ‚â§ -5¬∞C)</p>

                            <label class="checkbox-label">
                                <input type="checkbox" id="forPurlins">
                                üìê –£—á–µ—Å—Ç—å –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç 1.1 –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –ø—Ä–æ–≥–æ–Ω–æ–≤
                            </label>
                            <p class="note">–ø.10.4 –ø—Ä–∏–º–µ—á–∞–Ω–∏–µ 4: –¥–ª—è —É—á–µ—Ç–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –Ω–µ—Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç–∏ —Å–Ω–µ–≥–æ–æ—Ç–ª–æ–∂–µ–Ω–∏–π</p>
                        </div>

                        <div class="additional-results" id="additional-results" style="display: none;">
                            <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
                        </div>
                    </div>

                    <!-- –ü—Ä–æ—Ç–æ–∫–æ–ª —Ä–∞—Å—á–µ—Ç–∞ -->
                    <div class="protocol-section">
                        <h3>üßÆ –ü—Ä–æ—Ç–æ–∫–æ–ª —Ä–∞—Å—á–µ—Ç–∞</h3>
                        <div id="protocol-content">
                            <!-- –ü—Ä–æ—Ç–æ–∫–æ–ª –±—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                        </div>
                    </div>

                    <!-- –ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ -->
                    <div class="input-data-section">
                        <h3>üìã –ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</h3>
                        <div class="data-grid" id="input-data-grid">
                            <!-- –î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                        </div>
                    </div>

                    <!-- –î–µ–π—Å—Ç–≤–∏—è -->
                    <div class="actions-section">
                        <div class="action-buttons">
                            <button class="btn-secondary" id="backButton">‚Üê –ù–∞–∑–∞–¥ –∫ Œº</button>
                            <button class="btn-primary" id="saveReportButton">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ—Ç—á–µ—Ç</button>
                            <button class="btn-success" id="printButton">üñ®Ô∏è –ü–µ—á–∞—Ç—å –æ—Ç—á–µ—Ç–∞</button>
                            <button class="btn-warning" id="newCalcButton">üîÑ –ù–æ–≤—ã–π —Ä–∞—Å—á–µ—Ç</button>
                        </div>
                    </div>
                </div>
            `;
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
            if (savedData.reducedLoad !== undefined) {
                document.getElementById('reducedLoad').checked = savedData.reducedLoad;
            }
            if (savedData.forPurlins !== undefined) {
                document.getElementById('forPurlins').checked = savedData.forPurlins;
            }
            
            // –ù–∞–∑–Ω–∞—á–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫
            document.getElementById('backButton').addEventListener('click', () => goToStep('mu.html'));
            document.getElementById('saveReportButton').addEventListener('click', saveReport);
            document.getElementById('printButton').addEventListener('click', printReport);
            document.getElementById('newCalcButton').addEventListener('click', newCalculation);
            
            displayInputData(savedData);
        }

        function displayInputData(data) {
            const grid = document.getElementById('input-data-grid');
            if (!grid) return;
            
            let html = '';
            
            // Sg –¥–∞–Ω–Ω—ã–µ
            if (data.sgMethod === 'manual') {
                html += `<div class="data-item"><span>Sg:</span> <strong>${data.sg} –∫–ü–∞ (—Ä—É—á–Ω–æ–π –≤–≤–æ–¥)</strong></div>`;
            } else {
                if (data.spMethod === 'city' && data.city) {
                    html += `<div class="data-item"><span>Sg:</span> <strong>${data.sg} –∫–ü–∞ (${data.city}, —Ä–∞–π–æ–Ω ${data.snowDistrict})</strong></div>`;
                } else {
                    html += `<div class="data-item"><span>Sg:</span> <strong>${data.sg} –∫–ü–∞ (—Ä–∞–π–æ–Ω ${data.snowDistrictMap || 'III'})</strong></div>`;
                }
            }
            
            // Ce –¥–∞–Ω–Ω—ã–µ
            if (data.ceMethod === 'manual') {
                html += `<div class="data-item"><span>Ce:</span> <strong>${data.ce} (—Ä—É—á–Ω–æ–π –≤–≤–æ–¥)</strong></div>`;
            } else {
                html += `<div class="data-item"><span>Ce:</span> <strong>${data.ce} (—Ä–∞—Å—á–µ—Ç –ø–æ –°–ü)</strong></div>`;
            }
            
            // Ct –¥–∞–Ω–Ω—ã–µ
            if (data.ctMethod === 'manual') {
                html += `<div class="data-item"><span>Ct:</span> <strong>${data.ct} (—Ä—É—á–Ω–æ–π –≤–≤–æ–¥)</strong></div>`;
            } else {
                html += `<div class="data-item"><span>Ct:</span> <strong>${data.ct} (—Ä–∞—Å—á–µ—Ç –ø–æ –°–ü)</strong></div>`;
            }
            
            // Œº –¥–∞–Ω–Ω—ã–µ
            if (data.muMethod === 'manual') {
                html += `<div class="data-item"><span>Œº:</span> <strong>${data.mu} (—Ä—É—á–Ω–æ–π –≤–≤–æ–¥)</strong></div>`;
            } else {
                html += `<div class="data-item"><span>Œº:</span> <strong>${data.mu} (${data.roofType || '–¥–≤—É—Å–∫–∞—Ç–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ'})</strong></div>`;
            }
            
            grid.innerHTML = html;
        }

        function calculateFinalResults() {
            const data = getCalculationData();
            const reducedLoad = document.getElementById('reducedLoad')?.checked || false;
            const forPurlins = document.getElementById('forPurlins')?.checked || false;
            
            console.log('Calculating final results with:', data);
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
            updateCalculationData({
                reducedLoad: reducedLoad,
                forPurlins: forPurlins
            });
            
            // –ü–æ–ª—É—á–∞–µ–º –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã (–≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –±—É–¥—É—Ç —á–∏—Å–ª–∞–º–∏)
            const coefficients = getAllCoefficients();
            
            // –†–∞—Å—á–µ—Ç –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏ S0 —Å–æ–≥–ª–∞—Å–Ω–æ –ø.10.1
            const s0 = coefficients.sg * coefficients.ce * coefficients.ct * coefficients.mu;
            
            // –†–∞—Å—á–µ—Ç–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ S —Å–æ–≥–ª–∞—Å–Ω–æ –ø.10.12
            let s = s0 * window.GAMMA_F;
            
            // –£—á–µ—Ç –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ –¥–ª—è –ø—Ä–æ–≥–æ–Ω–æ–≤ —Å–æ–≥–ª–∞—Å–Ω–æ –ø.10.4 –ø—Ä–∏–º–µ—á–∞–Ω–∏–µ 4
            if (forPurlins) {
                s *= 1.1;
            }
            
            // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
            document.getElementById('s0-result').textContent = s0.toFixed(2) + ' –∫–ü–∞';
            document.getElementById('final-s-result').textContent = s.toFixed(2) + ' –∫–ü–∞';
            document.getElementById('final-s-kgs').textContent = Math.round(s * 100) + ' –∫–≥—Å/–º¬≤';
            
            // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–ª—è –ø–æ–Ω–∏–∂–µ–Ω–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏ —Å–æ–≥–ª–∞—Å–Ω–æ –ø.10.11
            const additionalResults = document.getElementById('additional-results');
            if (reducedLoad) {
                const januaryTemp = parseFloat(data.januaryTemp) || -8;
                if (januaryTemp <= -5) {
                    // –î–ª—è —Ö–æ–ª–æ–¥–Ω—ã—Ö —Ä–µ–≥–∏–æ–Ω–æ–≤ - –ø–æ–Ω–∏–∂–µ–Ω–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ 0.5 * S0
                    const sReduced = 0.5 * s0;
                    additionalResults.innerHTML = `
                        <div class="additional-result-card">
                            <h4>–ü–æ–Ω–∏–∂–µ–Ω–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –ø–æ –¥–µ—Ñ–æ—Ä–º–∞—Ü–∏—è–º</h4>
                            <div class="result-value">${sReduced.toFixed(2)} –∫–ü–∞</div>
                            <div class="result-conversion">${Math.round(sReduced * 100)} –∫–≥—Å/–º¬≤</div>
                            <p class="note">–ø.10.11: –¥–ª—è —Ö–æ–ª–æ–¥–Ω—ã—Ö —Ä–µ–≥–∏–æ–Ω–æ–≤ (t_—è–Ω–≤ ‚â§ -5¬∞C) –ø–æ–Ω–∏–∂–µ–Ω–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ = 0.5 √ó S‚ÇÄ</p>
                            <p class="note">–ü—Ä–∏ —ç—Ç–æ–º –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã Ce –∏ Ct –ø—Ä–∏–Ω—è—Ç—ã —Ä–∞–≤–Ω—ã–º–∏ 1.0</p>
                        </div>
                    `;
                    additionalResults.style.display = 'block';
                } else {
                    additionalResults.innerHTML = `
                        <div class="additional-result-card warning">
                            <h4>‚ö†Ô∏è –ü–æ–Ω–∏–∂–µ–Ω–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è</h4>
                            <p class="note">–ø.10.11: –¥–ª—è —Ä–∞–π–æ–Ω–æ–≤ —Å–æ —Å—Ä–µ–¥–Ω–µ–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–æ–π —è–Ω–≤–∞—Ä—è –≤—ã—à–µ -5¬∞C –ø–æ–Ω–∏–∂–µ–Ω–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è</p>
                            <p class="note">–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ —è–Ω–≤–∞—Ä—è –≤ –≤—ã–±—Ä–∞–Ω–Ω–æ–º —Ä–µ–≥–∏–æ–Ω–µ: ${januaryTemp}¬∞C</p>
                        </div>
                    `;
                    additionalResults.style.display = 'block';
                }
            } else {
                additionalResults.style.display = 'none';
            }
            
            // –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞
            generateProtocol(data, s0, s, reducedLoad, forPurlins);
        }

        function generateProtocol(data, s0, s, reducedLoad, forPurlins) {
            const protocol = document.getElementById('protocol-content');
            const coefficients = getAllCoefficients();
            const januaryTemp = parseFloat(data.januaryTemp) || -8;
            
            let html = `
                <div class="protocol-step">
                    <div class="protocol-description"><strong>–ù–æ—Ä–º–∞—Ç–∏–≤–Ω–∞—è —Å–Ω–µ–≥–æ–≤–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ S‚ÇÄ (–ø.10.1)</strong></div>
                    <div class="protocol-formula">
                        S‚ÇÄ = Sg √ó Ce √ó Ct √ó Œº<br>
                        S‚ÇÄ = ${coefficients.sg} √ó ${coefficients.ce} √ó ${coefficients.ct} √ó ${coefficients.mu}<br>
                        S‚ÇÄ = ${s0.toFixed(2)} –∫–ü–∞
                    </div>
                </div>
                
                <div class="protocol-step">
                    <div class="protocol-description"><strong>–†–∞—Å—á–µ—Ç–Ω–∞—è —Å–Ω–µ–≥–æ–≤–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ S (–ø.10.12)</strong></div>
                    <div class="protocol-formula">
                        S = S‚ÇÄ √ó Œ≥f<br>
                        S = ${s0.toFixed(2)} √ó ${GAMMA_F}<br>
                        S = ${(s0 * GAMMA_F).toFixed(2)} –∫–ü–∞
                    </div>
            `;
            
            if (forPurlins) {
                html += `
                    <div class="protocol-step">
                        <div class="protocol-description"><strong>–£—á–µ—Ç –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ 1.1 –¥–ª—è –ø—Ä–æ–≥–æ–Ω–æ–≤ (–ø.10.4 –ø—Ä–∏–º–µ—á–∞–Ω–∏–µ 4)</strong></div>
                        <div class="protocol-formula">
                            S = ${(s0 * GAMMA_F).toFixed(2)} √ó 1.1<br>
                            S = ${s.toFixed(2)} –∫–ü–∞
                        </div>
                    </div>
                `;
            }
            
            if (reducedLoad) {
                if (januaryTemp <= -5) {
                    const sReduced = 0.5 * s0;
                    html += `
                        <div class="protocol-step">
                            <div class="protocol-description"><strong>–ü–æ–Ω–∏–∂–µ–Ω–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –¥–ª—è –¥–µ—Ñ–æ—Ä–º–∞—Ü–∏–π (–ø.10.11)</strong></div>
                            <div class="protocol-formula">
                                S_red = 0.5 √ó S‚ÇÄ<br>
                                S_red = 0.5 √ó ${s0.toFixed(2)}<br>
                                S_red = ${sReduced.toFixed(2)} –∫–ü–∞
                            </div>
                            <div class="protocol-description">–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ —è–Ω–≤–∞—Ä—è: ${januaryTemp}¬∞C ‚â§ -5¬∞C</div>
                        </div>
                    `;
                } else {
                    html += `
                        <div class="protocol-step">
                            <div class="protocol-description"><strong>–ü–æ–Ω–∏–∂–µ–Ω–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è (–ø.10.11)</strong></div>
                            <div class="protocol-description">–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ —è–Ω–≤–∞—Ä—è: ${januaryTemp}¬∞C > -5¬∞C</div>
                        </div>
                    `;
                }
            }
            
            html += `</div>`;
            protocol.innerHTML = html;
        }

        function saveReport() {
            // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç—á–µ—Ç–∞
            showNotification('–û—Ç—á–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω!', 'success');
        }

        function printReport() {
            window.print();
        }

        function newCalculation() {
            if (confirm('–ù–∞—á–∞—Ç—å –Ω–æ–≤—ã–π —Ä–∞—Å—á–µ—Ç? –¢–µ–∫—É—â–∏–µ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã.')) {
                clearCalculationData();
                goToStep('index.html');
            }
        }

        document.addEventListener('DOMContentLoaded', initPage);
    </script>
</body>
</html>